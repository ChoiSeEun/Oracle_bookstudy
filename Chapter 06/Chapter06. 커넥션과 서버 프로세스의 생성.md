# 1. socket
- 오라클은 애플리케이션과 네트워크를 통해서 통신하는 경우가 많음
- 이때, TCP/IP의 socket을 네트워크 통신 수단으로 사용 
- 한 번 소켓을 만들어두면, 소켓을 읽고 쓰는 것만으로 송수신을 구현 가능
## 연결
- 네트워크 안에는 여러 개의 소켓이 존재
- 각 소켓은 주소와 포트 번호로 식별 가능 
- 즉, 연결하고 싶은 상대의 주소와 포트 번호를 송신함으로써 연결이 가능
# 2. 오라클에서의 통신
## ① 리스너
- 수신을 기다리는 프로세스
- 일반적으로 하나의 리스너가 하나의 데이터베이스를 담당하지만, 여러 개의 데이터베이스 담당도 가능
- `listener.ora` 을 확인해서 자신이 기다려야 하는 포트번호를 확인
	- <ORACLE_HOME>/network/admin 경로에 위치 
    - 오라클의 기본 리스너 포트 번호는 1521
- 리스너 기동 및 정지, 관리는 `lsnrctl` 사용 
```
    prompt > lsnrctl start 
    ----
    The command completed successfully.
    
    prompt > lsnrctl stop 
    prompt > lsnrctl status
```
## ② 커넥션
- 애플리케이션에서 데이터베이스에 연결하고자 하는 명령
- 커넥션 디스크립터를 통해 데이터베이스에 연결할 때 필요한 정보를 확인
	- 주소, 포트, 서비스 이름 등의 정보 포함
    - 일반적으로 `tnsnames.ora`에 작성 후 커넥션 식별자를 지정
    - 오라클 클라이언트는 커넥션 식별자만으로 커넥션 연결이 가능 
- 빈번하게 접속하지 안는 경우 EZCONNECT 방법도 사용 가능
```
    SQL > connect scott/tiger@XXXX:1521/orcl
```
- 즉, 소켓을 만드는 과정 
## ③ 서버 프로세스
- SQL 처리를 위한 서버 프로세스를 생성
	- 프로세스 생성
    - SGA 확보
    - PGA 확보
    - 그 외 데이터베이스 내부 처리
    => 서버 프로세스를 생성하는 것은 무거운 작업이므로, 커넥션을 많이 연결하는 것은 성능에 영향을 줄 수 있음 
- 생성된 서버 프로세스에 소켓을 인계
- 이후 오라클 클라이언트와 서버 프로세스는 직접 송수신 
# 3. 커넥션 풀
- 커넥션을 맺는 것, 특히 서버 프로세스를 생성하는 것은 무거운 작업
- 여러 개의 작업을 병렬로 처리하면서도 부하를 줄일 수 있는 방법이 **커넥션 풀**
- 서버 프로세스 몇 개를 풀로 구성해두고 여러 애플리케이션이 자신이 쓰고 싶을 때만 풀에서 하나를 꺼내서 사용하는 구조
	- 각 서버 프로세스는 가동 시간 중 일부만 SQL을 처리하고, 그 외에는 대기 상태 
    - 커넥션 풀 구조를 통해 대부분 대기 상태이던 서버 프로세스의 가동률을 높일 수 있음 
- [DB Connection Pool 그것이 알고싶다](https://github.com/SSARTEL-10th/JPTS_bookstudy/issues/12)