# 1. 백그라운드 프로세스 동작
- 기본적으로 모든 프로세스는 잠들어 있는 상태
- 일이 생기기 전까지 대기 상태 (OS 상에서는 sleep 상태)
	- SQL*Net message from client 
- 오라클 상에서는 클라이언트의 메시지를 기다리고 있는 상태
- 단, 몇 개의 프로세스는 쉬지 않고 정기적인 작업이 필요
	- OS의 웨이크 업 기능 
    - 특정 시간마다 작업을 수행
# 2. 백그라운드 프로세스
### DBWR
- 변경된 데이터를 캐시에서 디스크로 기록하는 역할
- 커밋한 시점에 매번 기록하는 것이 아니라 한 번에 수행함
- 디스크에 부하가 집중되는 것을 막기 위해, 긴 시간에 걸쳐 가능한 부하를 균일하게 줄 수 있도록 동작 
- 대형 시스템이나 디스크 기록 속도가 느린 환경이라면 DBWR를 여러 개 기동하여 성능 향상 가능
	- `DB_WRITER_PROCESSES` 의 초기화 파라미터에서 조정 가능 
- 장애 발생
	- 성능이 부족하거나 I/O의 행이나 지연이 발생했을 때
    - DBWR의 장애 발생으로 버퍼가 비워지지 않으면 서버 프로세스는 대기하게 됨 
    	- free buffer waits
    - I/O가 hang에 걸리면 DBWR도 hang에 걸리게 되므로 서버 프로세스도 대기하게 됨
    	- write complete watis
        - buffer busy waits

### LGWR
- 커밋한 시점의 REDO 로그를 디스크에 기록
- REDO 로그 파일에 REDO 로그를 기록
- 3초에 한 번 주기적으로 로그 버퍼의 데이터를 기록
	- 기록할 때 log file parallel write 상태로 대기 
	- 서버 프로세스가 LGWR를 기다릴 때는 log file sync 로 대기 
- 장애 발생
	- 성능이 부족
    - REDO 로그의 생성량이 많음
    - 아카이브를 받는 디스크가 가득 참
    - 로그 버퍼의 용량이 작은 경우
    	- 최근에는 메모리 크기가 커져 로그 버퍼를 128MB 이상으로 설정하기도 함
        - 용량이 작을 때는 log buffer space 이벤트로 대기 

### ARCH
- 아카이브 REDO 로그 파일에 기록
- 처리 부하량에 따라 여러 개 기동 
	- `LOG_ARCHIVE_MAX_PROCESSES` 파라미터를 통해 제어 가능 
- 데이터 가드 기능에도 사용
	- 복제 대상 데이터베이스에 통신이 되는지 확인하고,
    - 아카이브 REDO의 전송 작업을 담당 
** Data Guard
- 데이터베이스의 복제/동기화를 수행하는 기능
- 복제할 원본 데이터베이스에서 대상 데이터베이스에 REDO 로그를 전송하고 적용함으로써 데이터를 동기화 
- REDO를 전송하지 못하면 아카이브 REDO 로그를 전송 

### SMON
> System MONitor

- 공간 청소
	- 테이블스페이스 안의 빈 공간들을 합침
    - 처리 도중 종료된 트랜잭션을 롤백
    - 임시 세그먼트를 청소
- 인스턴스 복구 처리도 수행 

### PMON
> Process MONitor

- 메모리와 프로세스 청소 
	- 서버 프로세스가 비정상 종료했을 때 메모리나 프로세스를 정리
    - 세션이나 프로세스를 청소
    - 정리된 프로세스가 내부 Lock이나 메모리를 보유하고 있는 경우 해제 
- 즉, 다른 프로세스들을 감시하는 역할
- PMON이 비정상 종료하게 되면 인스턴스가 중지됨 
	- MMAN 프로세스가 PMON의 이상을 감지하고, 인스턴스 중지 명령을 내림 

### LPEG
> Listener REGistration

- 인스턴스의 정보, 현재 프로세스의 수, 인스턴스의 부하를 리스너에게 등록
	- 11g 까지는 PMON이 수행했으나, 12c 이후 전용 프로세스인 LPEG 등장
- 리스너에게 현재의 커넥션의 수를 정기적으로 알려줌 

### CKPT
- 체크포인트를 할 때 데이터 파일의 헤더에 관리 정보를 기록하는 프로세스
- 체크포인트 수행 시 데이터 파일에 기록하지 못하는 상황이 발생하면,
	- 인스턴스를 정지시키거나 데이터 파일으 오프라인으로 변경 
   
### 그 외 프로세스
- SXXX
	- 공유 서버 프로세스
    - 공유 서버 구성용 서버 프로세스
- DXXX
	- 디스패처
    - 공유 서버 구성용 서버 프로세스
    - 오라클 클라이언트에서 요청을 받아 공유 서버 프로세스에게 보내는 일
 - JXXX
 	- 오라클의 잡을 위한 프로세스
    - 잡 코디네이터에 의해 기동
 - CJQX
 	- 잡 코디네이터
    - JXXX를 늘리거나 줄임
    - 오라클 기동 시에 함께 기동
- PXXX
	- 슬레이브 프로세스
    - 병렬 쿼리를 위한 프로세스
 - QMNX/QXXX
 	- AQ(Advanced Queuing, 비동기 방식으로 메시지를 주고 받는 기능)를 위한 프로세스
    - 메시지를 관리하고 통보하는 등의 작업을 수행 
 - QMNC
 	- QMNX, QXXX와 마찬가지로 AQ를 위한 프로세스
    - 코디네이터의 역할을 수행
 - MMAN
 	- Memory MANager 프로세스
    - SGA 안의 메모리를 조정
    - 오라클 10g에서부터 존재
    - 기본적으로 오라클과 함께 기동
 - MMON / MMNL / MXXX
 	- AWR을 수집하고 기록하기 위한 프로세스
    - 오라클 10g 이후부터는 기본으로 오라클과 함께 기동
 - LMSX / LMD0 / LCKX / LMON / DIAG
 	- RAC용 프로세스
    - LMSX : 캐시 퓨전(장비 간에 데이터를 주고 받는 것)을 수행하는 프로세스
    - DIAG : 장애가 발생했을 때의 정보를 수집하기 위한 프로세스
    - 그 외의 프로세스는 장비 간의 Lock 등을 다루기 위한 프로세스 
 - RECO
 	- 분산 트랜잭션에 발생하는 문제를 해결하기 위한 프로세스
    